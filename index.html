<!DOCTYPE html>
<html>
<head>
  <title>Paramount Phones & Gadgets</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <style>
    body {margin:0; font-family:Arial,sans-serif; background:#f9f9f9; color:#111;}
    header {background:#222; color:white; padding:20px; text-align:center; box-shadow:0 4px 10px rgba(0,0,0,0.3);}
    nav {background:#111; padding:10px; text-align:center;}
    nav a {color:white; margin:10px; text-decoration:none; font-weight:bold; cursor:pointer; transition:0.2s;}
    nav a:hover {color:#f9d423;}
    .hero {padding:50px 20px; text-align:center; background:linear-gradient(120deg,#ff4e50,#f9d423); color:white; box-shadow:inset 0 0 10px rgba(0,0,0,0.1); border-bottom-left-radius:20px; border-bottom-right-radius:20px;}
    .hero h2, .hero p {margin:0 0 10px 0;}
    #searchWrapper {text-align:center; margin:20px;}
    #searchInput {padding:12px; width:90%; max-width:500px; border-radius:10px; border:1px solid #ccc; box-shadow:0 2px 5px rgba(0,0,0,0.1);}
    .products, #adminProducts {padding:20px; display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:20px;}
    .card {border-radius:15px; padding:15px; text-align:center; background:white; transition:transform 0.25s, box-shadow 0.25s; box-shadow:0 4px 12px rgba(0,0,0,0.08); position:relative;}
    .card:hover {transform:translateY(-5px); box-shadow:0 10px 30px rgba(0,0,0,0.15);}
    .card img {width:100%; height:200px; object-fit:contain; border-radius:12px;}
    .hotBadge {position:absolute; top:10px; right:10px; background:red; color:white; padding:5px 10px; border-radius:12px; font-size:12px; font-weight:bold;}
    button {background:linear-gradient(90deg,#ff4e50,#f9d423); color:white; border-radius:10px; border:none; padding:12px; margin-top:8px; cursor:pointer; width:100%; font-weight:700; transition:transform .15s, box-shadow .15s;}
    button:hover {transform:scale(1.03); box-shadow:0 6px 18px rgba(0,0,0,0.18);}
    footer {background:black; color:white; text-align:center; padding:15px; margin-top:20px;}
    #cart, #admin {padding:20px; display:none;}
    input[type=text], input[type=password], input[type=file], input[type=color] {width:100%; padding:10px; margin-bottom:10px; border-radius:8px; border:1px solid #ccc; box-sizing:border-box;}
    .smallBtn {padding:6px; font-size:12px; margin-top:6px;}
    @media (max-width:520px){ .hero{padding:30px 12px;} .card img{height:160px;} }
  </style>
</head>
<body>

<header>
  <h1>Paramount Phones & Gadgets</h1>
  <p>Your Number 1 Gadget Plug</p>
</header>

<nav>
  <a onclick="showSection('shop')">Shop</a>
  <a onclick="showSection('cart')">Cart üõí</a>
  <a onclick="showSection('admin')">Admin</a>
</nav>

<div class="hero" id="heroBanner">
  <h2 id="heroHeading">Latest Phones at Hot Prices üî•</h2>
  <p id="heroSubheading">Order Directly via WhatsApp</p>
</div>

<div id="searchWrapper">
  <input type="text" id="searchInput" placeholder="Search phones..." onkeyup="searchProducts()">
</div>

<!-- SHOP -->
<div class="products" id="shop"></div>

<!-- CART -->
<div id="cart">
  <h2>Your Cart</h2>
  <div id="cartItems"></div>
</div>

<!-- ADMIN -->
<div id="admin">
  <h2>Add / Manage Phones</h2>

  <!-- HERO EDIT -->
  <h3>Edit Hero Banner</h3>
  <input type="text" id="heroHeadingInput" placeholder="Hero Heading">
  <input type="text" id="heroSubheadingInput" placeholder="Hero Subheading">
  <label>Gradient Start Color:</label>
  <input type="color" id="heroColor1" value="#ff4e50">
  <label>Gradient End Color:</label>
  <input type="color" id="heroColor2" value="#f9d423">
  <button class="smallBtn" onclick="saveHero()">Save Hero</button>

  <h3>Add / Manage Phones</h3>
  <input type="text" id="pname" placeholder="Phone Name">
  <input type="text" id="pprice" placeholder="Price (‚Ç¶)">
  <input type="text" id="pimage" placeholder="Image URL (optional)" oninput="previewURL()">
  <input type="file" id="pfile" accept="image/*" onchange="previewImage(event)">
  <img id="previewImg" src="" style="display:none; width:100%; max-height:220px; object-fit:contain; border-radius:12px; margin-bottom:10px;">
  <button onclick="addProduct()">Add Phone</button>

  <h3>Business Settings</h3>
  <input type="text" id="waNumber" placeholder="WhatsApp Number">
  <button class="smallBtn" onclick="saveWhatsAppNumber()">Save Number</button>

  <input type="password" id="adminPassChange" placeholder="Change Admin Password">
  <button class="smallBtn" onclick="saveAdminPassword()">Save Password</button>

  <h3>Existing Products</h3>
  <div id="adminProducts"></div>

  <h3>Visitor Count: <span id="visitCount">0</span></h3>
</div>

<footer>
  <p>Call / WhatsApp: <span id="footerNumber">+234 916 671 0777</span></p>
  <p>¬© 2025 Paramount Phones & Gadgets</p>
</footer>

<script>
// ---------- data & localStorage ----------
let products = JSON.parse(localStorage.getItem("products")) || [
  {name:"iPhone 13", price:"‚Ç¶550,000", image:"https://via.placeholder.com/200", hot:true},
  {name:"Samsung A14", price:"‚Ç¶150,000", image:"https://via.placeholder.com/200", hot:false},
  {name:"Tecno Spark 20", price:"‚Ç¶135,000", image:"https://via.placeholder.com/200", hot:false},
  {name:"Infinix Note 30", price:"‚Ç¶180,000", image:"https://via.placeholder.com/200", hot:false}
];

let visits = Number(localStorage.getItem("visits") || 0);
visits++; localStorage.setItem("visits", visits);
document.getElementById("visitCount").innerText = visits;

let waNumber = localStorage.getItem("waNumber") || "2349166710777";
document.getElementById("waNumber").value = waNumber;
document.getElementById("footerNumber").innerText = "+"+waNumber;

let adminPass = localStorage.getItem("adminPass") || "Paramountpaul1";

let uploadedImage = "";

// ---------- preview helpers ----------
function previewImage(event){
  const file = event.target.files && event.target.files[0];
  if(!file) return;
  const reader = new FileReader();
  reader.onload = function(){
    uploadedImage = reader.result;
    const img = document.getElementById("previewImg");
    img.src = uploadedImage;
    img.style.display = "block";
  }
  reader.readAsDataURL(file);
}

function previewURL(){
  const url = document.getElementById("pimage").value.trim();
  if(uploadedImage) return;
  const img = document.getElementById("previewImg");
  if(!url){ img.style.display = "none"; img.src = ""; return; }
  img.src = url; img.style.display = "block";
}

// ---------- display functions ----------
function displayProducts(){
  const shop = document.getElementById("shop");
  shop.innerHTML = "";
  products.forEach((p,i)=>{
    shop.innerHTML += `
      <div class="card">
        ${p.hot?'<span class="hotBadge">Hot üî•</span>':''}
        <img src="${p.image}" alt="${escapeHtml(p.name)}">
        <h3>${escapeHtml(p.name)}</h3>
        <p>${escapeHtml(p.price)}</p>
        <button onclick="orderWhatsApp('${escapeJs(p.name)}','${escapeJs(p.price)}')">Order on WhatsApp</button>
      </div>
    `;
  });
}

function displayAdminProducts(){
  const adminDiv = document.getElementById("adminProducts");
  adminDiv.innerHTML = "";
  products.forEach((p,i)=>{
    adminDiv.innerHTML += `
      <div class="card">
        <img src="${p.image}" alt="${escapeHtml(p.name)}">
        <h3>${escapeHtml(p.name)}</h3>
        <p>${escapeHtml(p.price)}</p>
        <button class="smallBtn" onclick="editProduct(${i})">‚úèÔ∏è Edit</button>
        <button class="smallBtn" onclick="deleteProduct(${i})">üóëÔ∏è Delete</button>
        <button class="smallBtn" onclick="toggleHot(${i})">${p.hot?'üî• Remove Hot':'üî• Mark Hot'}</button>
      </div>
    `;
  });
}

// ---------- add/edit/delete ----------
function addProduct(){
  const name = document.getElementById("pname").value.trim();
  const price = document.getElementById("pprice").value.trim();
  const urlImage = document.getElementById("pimage").value.trim();
  const image = uploadedImage || urlImage;
  if(!name || !price || !image){ alert("Fill name, price, and provide an image."); return; }
  products.push({name, price, image, hot:false});
  localStorage.setItem("products", JSON.stringify(products));
  document.getElementById("pname").value=""; document.getElementById("pprice").value=""; document.getElementById("pimage").value=""; document.getElementById("pfile").value=""; uploadedImage="";
  document.getElementById("previewImg").style.display="none";
  displayProducts(); displayAdminProducts();
  alert("Product Added ‚úÖ");
}

function editProduct(index){
  const newName = prompt("Enter new phone name:", products[index].name);
  const newPrice = prompt("Enter new price:", products[index].price);
  const newImage = prompt("Enter new image URL (leave blank to keep current):", products[index].image);
  if(newName && newPrice){
    products[index] = {name:newName, price:newPrice, image:newImage?newImage:products[index].image, hot:products[index].hot};
    localStorage.setItem("products", JSON.stringify(products));
    displayProducts(); displayAdminProducts();
    alert("Product Updated ‚úÖ");
  }
}

function deleteProduct(index){ if(confirm("Delete this product?")){ products.splice(index,1); localStorage.setItem("products", JSON.stringify(products)); displayProducts(); displayAdminProducts(); } }
function toggleHot(index){ products[index].hot = !products[index].hot; localStorage.setItem("products", JSON.stringify(products)); displayProducts(); displayAdminProducts(); }
function orderWhatsApp(name, price){ const msg=`Hello, I want to order:\n\nPhone: ${name}\nPrice: ${price}\nWebsite: Paramount Phones & Gadgets\nDate: ${new Date().toLocaleDateString()}`; window.open(`https://wa.me/${waNumber}?text=${encodeURIComponent(msg)}`); }
function searchProducts(){ const q=document.getElementById("searchInput").value.trim().toLowerCase(); const shop=document.getElementById("shop"); shop.innerHTML=""; products.forEach(p=>{ if(p.name.toLowerCase().includes(q)){ shop.innerHTML+=`<div class="card">${p.hot?'<span class="hotBadge">Hot üî•</span>':''}<img src="${p.image}" alt="${escapeHtml(p.name)}"><h3>${escapeHtml(p.name)}</h3><p>${escapeHtml(p.price)}</p><button onclick="orderWhatsApp('${escapeJs(p.name)}','${escapeJs(p.price)}')">Order on WhatsApp</button></div>`; } }); }

// ---------- save business settings ----------
function saveWhatsAppNumber(){ const val=document.getElementById("waNumber").value.trim(); if(!val){alert("Enter a valid WhatsApp number.");return;} waNumber=val; localStorage.setItem("waNumber",val); document.getElementById("footerNumber").innerText="+"+val; alert("WhatsApp number saved ‚úÖ"); }
function saveAdminPassword(){ const val=document.getElementById("adminPassChange").value.trim(); if(!val){alert("Enter a valid password.");return;} adminPass=val; localStorage.setItem("adminPass",val); document.getElementById("adminPassChange").value=""; alert("Password saved ‚úÖ"); }

// ---------- hero save ----------
function saveHero(){
  const heading=document.getElementById("heroHeadingInput").value.trim();
  const subheading=document.getElementById("heroSubheadingInput").value.trim();
  const color1=document.getElementById("heroColor1").value;
  const color2=document.getElementById("heroColor2").value;
  if(heading) document.getElementById("heroHeading").innerText=heading;
  if(subheading) document.getElementById("heroSubheading").innerText=subheading;
  document.getElementById("heroBanner").style.background=`linear-gradient(120deg,${color1},${color2})`;
  localStorage.setItem("heroData", JSON.stringify({heading, subheading, color1, color2}));
  alert("Hero banner updated ‚úÖ");
}

// ---------- load hero data ----------
const heroStored=JSON.parse(localStorage.getItem("heroData")||"{}");
if(heroStored.heading) document.getElementById("heroHeading").innerText=heroStored.heading;
if(heroStored.subheading) document.getElementById("heroSubheading").innerText=heroStored.subheading;
if(heroStored.color1 && heroStored.color2) document.getElementById("heroBanner").style.background=`linear-gradient(120deg,${heroStored.color1},${heroStored.color2})`;

// ---------- show section ----------
function showSection(section){
  if(section==="admin"){
    const pass=prompt("Enter Admin Password:");
    if(pass!==adminPass){ alert("Wrong password ‚ùå"); return; }
  }
  document.getElementById("shop").style.display="none";
  document.getElementById("cart").style.display="none";
  document.getElementById("admin").style.display="none";
  document.getElementById(section).style.display="block";
}

// ---------- helpers ----------
function escapeHtml(str){ return String(str||"").replace(/[&<>"']/g,s=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[s])); }
function escapeJs(str){ return String(str||"").replace(/'/g,"\\'"); }

// ---------- init ----------
displayProducts(); displayAdminProducts();
</script>

</body>
</html>